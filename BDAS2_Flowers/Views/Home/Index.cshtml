@using BDAS2_Flowers.Models.ViewModels.ProductModels
@model IEnumerable<ProductCardVm>
@{
    ViewData["Title"] = "Domů";
}

<section class="hero mb-5">
    <div class="flex-fill">
        <span class="badge badge-hero rounded-pill px-3 py-2">
            <i class="bi bi-truck"></i> Rozvoz po České Republice
        </span>
        <h1 class="display-4 fw-bold mt-2">Darujte jedinečný zážitek</h1>
        <p class="text-muted fs-5">U nás nemusíte vybírat ze stovek druhů květin – připravíme originální kytici na míru.</p>
        @if (User.Identity?.IsAuthenticated == true)
            {
                <a class="btn btn-brand btn-lg mt-2" asp-controller="Catalog" asp-action="Index">E-shop</a>
            }
        else
            {
                <a href="#" class="btn btn-brand btn-lg mt-2 requires-auth" data-intent="eshop">E-shop</a>
            }
    </div>

    <img class="hero-photo d-none d-md-block"
     src="~/images/main-photo.jpg"
     asp-append-version="true"
     alt="Flowers"
     width="640" height="320" />
</section>

<div class="steps mb-4">
    <div class="step"><div class="ico bi bi-flower1"></div><div>Výběr kytice</div></div>
    <div class="step"><div class="ico bi bi-truck"></div><div>Doručení/vyzvednutí</div></div>
    <div class="step"><div class="ico bi bi-calendar2-week"></div><div>Termín</div></div>
    <div class="step"><div class="ico bi bi-wallet2"></div><div>Platba</div></div>
    <div class="step"><div class="ico bi bi-hand-thumbs-up"></div><div>Připraveno</div></div>
</div>

<section class="my-4">
    <div class="d-flex align-items-center justify-content-between mb-2">
        <h2 class="h4 m-0">Vybráno pro vás</h2>
        @if (User.Identity?.IsAuthenticated == true)
            {
                <a class="link-brand" asp-controller="Catalog" asp-action="Index">Zobrazit vše</a>
            }
        else
            {
                <a href="#" class="link-brand requires-auth" data-intent="eshop">Zobrazit vše</a>
            }
    </div>

    <div class="row g-4">
        @{
            ViewBag.HideAdd = true;
        }
        @foreach (var p in Model)
            {
                <div class="col-12 col-sm-6 col-lg-3">
                        @await Html.PartialAsync("_ProductCard", p)
                </div>
            }
    </div>
</section>

